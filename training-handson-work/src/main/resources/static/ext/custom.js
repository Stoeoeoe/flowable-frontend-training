!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("@flowable/forms")):"function"==typeof define&&define.amd?define(["exports","react","@flowable/forms"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).flowable=t.flowable||{},t.flowable.externals={}),t.flowable.React,t.flowable.Forms)}(this,(function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=r(e);function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}var i={rows:[{cols:[{type:"wave",size:12,value:"{{wave}}",extraSettings:{width:400,height:400,amplitude:"{{amplitude}}",speed:"{{speed}}",points:"{{points}}"}}]}]},s=[{applicationId:"simpleApp",label:"Simple App",icon:"disc",component:function(t){var e,n;return o.default.createElement("div",{style:{padding:"25px"}},o.default.createElement("div",{style:{padding:"10px"},className:"flw-header-detail flw-header-detail__current"},o.default.createElement("h2",null,"Hello"),o.default.createElement("div",null),o.default.createElement("p",null,(null==t||null==(e=t.currentUser)||null==(n=e.memberGroups)?void 0:n.has("flowableAdministrator"))&&o.default.createElement("div",null,"You are admin!"))))}},{applicationId:"subAppExampleApp",label:"Sub App Example",icon:"file",sub:[{icon:"file",applicationId:"subApp1",label:"Sub App 1",component:function(t){return o.default.createElement("div",null,"My Subapp!")}},{icon:"file",applicationId:"subApp2",label:"Sub App 2",component:function(t){return o.default.createElement("div",null,"My other Subapp!")}}]},{applicationId:"formAppEmbedded",label:"Form App (Embedded)",icon:"gopuram",form:function(){return i}},{applicationId:"formApp",label:"Form App",icon:"piechart",form:function(){return"D01_contactForm"}}];function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.parentElement}return!1}function p(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function d(t,e,n){return"https://"+String.fromCharCode(97+(t+e+n)%3)+".tile.openstreetmap.org/"+n+"/"+t+"/"+e+".png"}var f=function(){return!0},m=function(t,e){return(t+180)/360*Math.pow(2,e)},g=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)};function v(t,e){return t/Math.pow(2,e)*360-180}function y(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function _(t,e){var n=p(t);return[e.clientX-n.x,e.clientY-n.y]}var w=[y(Math.pow(2,10),10),y(0,10),v(0,10),v(Math.pow(2,10),10)],b="undefined"!=typeof window,M=b&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var t=(new Date).getTime();return function(){return(new Date).getTime()-t}}(),x=function(t){return b?(window.requestAnimationFrame||window.setTimeout)(t):(t((new Date).getTime()),null)},E=function(t){return!(!b||!t)&&(window.cancelAnimationFrame||window.clearTimeout)(t)};function C(t,e,n,r,o){return t&&0!==t.length?t.map((function(t){return e(n,r,o,t)+(1===t?"":" "+t+"x")})).join(", "):""}var S=function(t){var e,n;function r(e){var n,r,o,a,i,s,l,c,u,p,d;return(u=t.call(this,e)||this)._dragStart=null,u._mouseDown=!1,u._moveEvents=[],u._lastClick=null,u._lastTap=null,u._lastWheel=null,u._touchStartPixel=null,u._touchStartMidPoint=null,u._touchStartDistance=null,u._secondTouchEnd=null,u._warningClearTimeout=null,u._isAnimating=!1,u._animationStart=null,u._animationEnd=null,u._zoomStart=null,u._centerTarget=null,u._zoomTarget=null,u._zoomAround=null,u._animFrame=null,u._boundsSynced=!1,u._minMaxCache=null,u._resizeObserver=null,u.updateWidthHeight=function(){if(u._containerRef){var t=u._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return u.setState({width:t.width,height:t.height}),!0}return!1},u.wa=function(){var t;return(t=window).addEventListener.apply(t,arguments)},u.wr=function(){var t;return(t=window).removeEventListener.apply(t,arguments)},u.bindMouseEvents=function(){u.wa("mousedown",u.handleMouseDown),u.wa("mouseup",u.handleMouseUp),u.wa("mousemove",u.handleMouseMove)},u.bindTouchEvents=function(){u.wa("touchstart",u.handleTouchStart,{passive:!1}),u.wa("touchmove",u.handleTouchMove,{passive:!1}),u.wa("touchend",u.handleTouchEnd,{passive:!1})},u.unbindMouseEvents=function(){u.wr("mousedown",u.handleMouseDown),u.wr("mouseup",u.handleMouseUp),u.wr("mousemove",u.handleMouseMove)},u.unbindTouchEvents=function(){u.wr("touchstart",u.handleTouchStart),u.wr("touchmove",u.handleTouchMove),u.wr("touchend",u.handleTouchEnd)},u.bindResizeEvent=function(){u.wa("resize",u.updateWidthHeight)},u.unbindResizeEvent=function(){u.wr("resize",u.updateWidthHeight)},u.bindWheelEvent=function(){u._containerRef&&u._containerRef.addEventListener("wheel",u.handleWheel,{passive:!1})},u.unbindWheelEvent=function(){u._containerRef&&u._containerRef.removeEventListener("wheel",u.handleWheel)},u.setCenterZoomTarget=function(t,e,n,r,o){if(void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=300),u.props.animate&&(!n||u.distanceInScreens(t,e,u.state.center,u.state.zoom)<=u.props.animateMaxScreens)){if(u._isAnimating){E(u._animFrame);var a=u.animationStep(M()),i=a.zoomStep;u._centerStart=a.centerStep,u._zoomStart=i}else u._isAnimating=!0,u._centerStart=u.limitCenterAtZoom([u._lastCenter[0],u._lastCenter[1]],u._lastZoom),u._zoomStart=u._lastZoom,u.onAnimationStart();u._animationStart=M(),u._animationEnd=u._animationStart+o,r?(u._zoomAround=r,u._centerTarget=u.calculateZoomCenter(u._lastCenter,r,u._lastZoom,e)):(u._zoomAround=null,u._centerTarget=t),u._zoomTarget=e,u._animFrame=x(u.animate)}else if(u.stopAnimating(),r){var s=u.calculateZoomCenter(u._lastCenter,r,u._lastZoom,e);u.setCenterZoom(s,e,n)}else u.setCenterZoom(t||u.state.center,e,n)},u.setCenterZoomForChildren=function(t,e){u.setCenterZoomTarget(t||u.state.center,e||u.state.zoom,!0)},u.distanceInScreens=function(t,e,n,r){var o=u.state,a=o.width,i=o.height,s=u.latLngToPixel(n,n,r),l=u.latLngToPixel(t,n,r),c=u.latLngToPixel(n,n,e),h=u.latLngToPixel(t,n,e),p=(Math.abs(s[0]-l[0])+Math.abs(c[0]-h[0]))/2/a,d=(Math.abs(s[1]-l[1])+Math.abs(c[1]-h[1]))/2/i;return Math.sqrt(p*p+d*d)},u.animationStep=function(t){if(!(u._animationEnd&&u._animationStart&&u._zoomTarget&&u._zoomStart&&u._centerStart&&u._centerTarget))return{centerStep:u.state.center,zoomStep:u.state.zoom};var e,n=u._animationEnd-u._animationStart,r=(e=Math.max(t-u._animationStart,0)/n)*(2-e),o=u._zoomStart+(u._zoomTarget-u._zoomStart)*r;return u._zoomAround?{centerStep:u.calculateZoomCenter(u._centerStart,u._zoomAround,u._zoomStart,o),zoomStep:o}:{centerStep:[u._centerStart[0]+(u._centerTarget[0]-u._centerStart[0])*r,u._centerStart[1]+(u._centerTarget[1]-u._centerStart[1])*r],zoomStep:o}},u.animate=function(t){if(!u._animationEnd||t>=u._animationEnd)u._isAnimating=!1,u.setCenterZoom(u._centerTarget,u._zoomTarget,!0),u.onAnimationStop();else{var e=u.animationStep(t);u.setCenterZoom(e.centerStep,e.zoomStep),u._animFrame=x(u.animate)}},u.stopAnimating=function(){u._isAnimating&&(u._isAnimating=!1,u.onAnimationStop(),E(u._animFrame))},u.limitCenterAtZoom=function(t,e){var n=u.getBoundsMinMax(e||u.state.zoom);return[Math.max(Math.min(!t||isNaN(t[0])?u.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(!t||isNaN(t[1])?u.state.center[1]:t[1],n[3]),n[2])]},u.onAnimationStart=function(){u.props.onAnimationStart&&u.props.onAnimationStart()},u.onAnimationStop=function(){u.props.onAnimationStop&&u.props.onAnimationStop()},u.setCenterZoom=function(t,e,n){void 0===n&&(n=!1);var r=u.limitCenterAtZoom(t,e);if(e&&Math.round(u.state.zoom)!==Math.round(e)){var o=u.tileValues(u.state),a=u.tileValues({center:r,zoom:e,width:u.state.width,height:u.state.height});u.setState({oldTiles:u.state.oldTiles.filter((function(t){return t.roundedZoom!==o.roundedZoom})).concat(o)},f);for(var i={},s=a.tileMinX;s<=a.tileMaxX;s++)for(var l=a.tileMinY;l<=a.tileMaxY;l++)i[s+"-"+l+"-"+a.roundedZoom]=!1;u._loadTracker=i}u.setState({center:r,zoom:e||u.state.zoom},f);var c=u.props.center?u.props.center:u._lastCenter;e&&(n||Math.abs((u.props.zoom?u.props.zoom:u._lastZoom)-e)>.001||Math.abs(c[0]-r[0])>1e-5||Math.abs(c[1]-r[1])>1e-5)&&(u._lastZoom=e,u._lastCenter=[].concat(r),u.syncToProps(r,e))},u.getBoundsMinMax=function(t){if("center"===u.props.limitBounds)return w;var e=u.state,n=e.width,r=e.height;if(u._minMaxCache&&u._minMaxCache[0]===t&&u._minMaxCache[1]===n&&u._minMaxCache[2]===r)return u._minMaxCache[3];var o=256*Math.pow(2,t),a=n>o?0:v(n/512,t),i=r>o?0:y(Math.pow(2,t)-r/512,t),s=n>o?0:v(Math.pow(2,t)-n/512,t),l=[i,r>o?0:y(r/512,t),a,s];return u._minMaxCache=[t,n,r,l],l},u.imageLoaded=function(t){u._loadTracker&&t in u._loadTracker&&(u._loadTracker[t]=!0,0===Object.values(u._loadTracker).filter((function(t){return!t})).length&&u.setState({oldTiles:[]},f))},u.handleTouchStart=function(t){if(u._containerRef&&(!t.target||!h(t.target,"pigeon-drag-block")))if(1===t.touches.length){var e=_(u._containerRef,t.touches[0]);if(u.coordsInside(e)&&(u._touchStartPixel=[e],!u.props.twoFingerDrag))if(u.stopAnimating(),u._lastTap&&M()-u._lastTap<300){t.preventDefault();var n=u.pixelToLatLng(u._touchStartPixel[0]);u.setCenterZoomTarget(null,Math.max(u.props.minZoom,Math.min(u.state.zoom+1,u.props.maxZoom)),!1,n)}else u._lastTap=M(),u.trackMoveEvents(e)}else if(2===t.touches.length&&u._touchStartPixel){t.preventDefault(),u.stopTrackingMoveEvents(),(u.state.pixelDelta||u.state.zoomDelta)&&u.sendDeltaChange();var r=_(u._containerRef,t.touches[0]),o=_(u._containerRef,t.touches[1]);u._touchStartPixel=[r,o],u._touchStartMidPoint=[(r[0]+o[0])/2,(r[1]+o[1])/2],u._touchStartDistance=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2))}},u.handleTouchMove=function(t){if(u._containerRef){if(1===t.touches.length&&u._touchStartPixel){var e=_(u._containerRef,t.touches[0]);u.props.twoFingerDrag?u.coordsInside(e)&&u.showWarning("fingers"):(t.preventDefault(),u.trackMoveEvents(e),u.setState({pixelDelta:[e[0]-u._touchStartPixel[0][0],e[1]-u._touchStartPixel[0][1]]},f))}else if(2===t.touches.length&&u._touchStartPixel&&u._touchStartMidPoint&&u._touchStartDistance){var n=u.state,r=n.width,o=n.height,a=n.zoom;t.preventDefault();var i=_(u._containerRef,t.touches[0]),s=_(u._containerRef,t.touches[1]),l=[(i[0]+s[0])/2,(i[1]+s[1])/2],c=[l[0]-u._touchStartMidPoint[0],l[1]-u._touchStartMidPoint[1]],h=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)),p=Math.max(u.props.minZoom,Math.min(u.props.maxZoom,a+Math.log2(h/u._touchStartDistance)))-a,d=Math.pow(2,p),m=[(r/2-l[0])*(d-1),(o/2-l[1])*(d-1)];u.setState({zoomDelta:p,pixelDelta:[m[0]+c[0]*d,m[1]+c[1]*d]},f)}}else u._touchStartPixel=null},u.handleTouchEnd=function(t){if(u._containerRef){if(u._touchStartPixel){var e=u.props,n=e.zoomSnap,r=e.twoFingerDrag,o=e.minZoom,a=e.maxZoom,i=u.state.zoomDelta,s=u.sendDeltaChange(),l=s.center,c=s.zoom;if(0===t.touches.length)if(r)u.clearWarning();else{var h=u._touchStartPixel[0],p=_(u._containerRef,t.changedTouches[0]);(Math.abs(h[0]-p[0])>2||Math.abs(h[1]-p[1])>2)&&(!u._secondTouchEnd||M()-u._secondTouchEnd>300)&&(t.preventDefault(),u.throwAfterMoving(p,l,c)),u._touchStartPixel=null,u._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var d=_(u._containerRef,t.touches[0]);if(u._secondTouchEnd=M(),u._touchStartPixel=[d],u.trackMoveEvents(d),n){var f,m=u._touchStartMidPoint?u.pixelToLatLng(u._touchStartMidPoint):u.state.center;f=r&&Math.round(u.state.zoom)===Math.round(u.state.zoom+i)?Math.round(u.state.zoom):i>0?Math.ceil(u.state.zoom):Math.floor(u.state.zoom);var g=Math.max(o,Math.min(f,a));u.setCenterZoomTarget(m,g,!1,m)}}}}else u._touchStartPixel=null},u.handleMouseDown=function(t){if(u._containerRef){var e=_(u._containerRef,t);if(0===t.button&&(!t.target||!h(t.target,"pigeon-drag-block"))&&u.coordsInside(e))if(u.stopAnimating(),t.preventDefault(),u._lastClick&&M()-u._lastClick<300){if(!h(t.target,"pigeon-click-block")){var n=u.pixelToLatLng(u._mousePosition||e);u.setCenterZoomTarget(null,Math.max(u.props.minZoom,Math.min(u.state.zoom+1,u.props.maxZoom)),!1,n)}}else u._lastClick=M(),u._mouseDown=!0,u._dragStart=e,u.trackMoveEvents(e)}},u.handleMouseMove=function(t){u._containerRef&&(u._mousePosition=_(u._containerRef,t),u._mouseDown&&u._dragStart&&(u.trackMoveEvents(u._mousePosition),u.setState({pixelDelta:[u._mousePosition[0]-u._dragStart[0],u._mousePosition[1]-u._dragStart[1]]},f)))},u.handleMouseUp=function(t){if(u._containerRef){var e=u.state.pixelDelta;if(u._mouseDown){u._mouseDown=!1;var n=_(u._containerRef,t);if(!u.props.onClick||t.target&&h(t.target,"pigeon-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=2)){var r=u.sendDeltaChange();u.throwAfterMoving(n,r.center,r.zoom)}else{var o=u.pixelToLatLng(n);u.props.onClick({event:t,latLng:o,pixel:n}),u.setState({pixelDelta:void 0},f)}}}else u._mouseDown=!1},u.stopTrackingMoveEvents=function(){u._moveEvents=[]},u.trackMoveEvents=function(t){var e=M();(0===u._moveEvents.length||e-u._moveEvents[u._moveEvents.length-1].timestamp>40)&&(u._moveEvents.push({timestamp:e,coords:t}),u._moveEvents.length>2&&u._moveEvents.shift())},u.throwAfterMoving=function(t,e,n){var r=u.state,o=r.width,a=r.height,i=u.props.animate,s=M(),l=u._moveEvents.shift();if(l&&i){var c=Math.max(s-l.timestamp,1),h=[(t[0]-l.coords[0])/c*120,(t[1]-l.coords[1])/c*120],p=Math.sqrt(h[0]*h[0]+h[1]*h[1]);if(p>40){var d=1500*p/Math.sqrt(o*o+a*a),f=v(m(e[1],n)-h[0]/256,n),_=y(g(e[0],n)-h[1]/256,n);u.setCenterZoomTarget([_,f],n,!1,null,d)}}u.stopTrackingMoveEvents()},u.sendDeltaChange=function(){var t=u.state,e=t.center,n=t.zoom,r=t.pixelDelta,o=t.zoomDelta,a=e[0],i=e[1];return(r||0!==o)&&(i=v(m(e[1],n+o)-(r?r[0]/256:0),n+o),a=y(g(e[0],n+o)-(r?r[1]/256:0),n+o),u.setCenterZoom([a,i],n+o)),u.setState({pixelDelta:void 0,zoomDelta:0},f),{center:u.limitCenterAtZoom([a,i],n+o),zoom:n+o}},u.getBounds=function(t,e){void 0===t&&(t=u.state.center),void 0===e&&(e=u.zoomPlusDelta());var n=u.state,r=n.height;return{ne:u.pixelToLatLng([n.width-1,0],t,e),sw:u.pixelToLatLng([0,r-1],t,e)}},u.syncToProps=function(t,e){void 0===t&&(t=u.state.center),void 0===e&&(e=u.state.zoom);var n=u.props.onBoundsChanged;n&&(n({center:t,zoom:e,bounds:u.getBounds(t,e),initial:!u._boundsSynced}),u._boundsSynced=!0)},u.handleWheel=function(t){var e=u.props,n=e.zoomSnap,r=e.animate;if(e.mouseEvents)if(!e.metaWheelZoom||t.metaKey||t.ctrlKey){t.preventDefault();var o=-t.deltaY/150;!n&&u._zoomTarget?u.zoomAroundMouse(o+(u._zoomTarget-u.state.zoom),t):r?u.zoomAroundMouse(o,t):(!u._lastWheel||M()-u._lastWheel>300)&&(u._lastWheel=M(),u.zoomAroundMouse(o,t))}else u.showWarning("wheel")},u.showWarning=function(t){u.state.showWarning&&u.state.warningType===t||u.setState({showWarning:!0,warningType:t}),u._warningClearTimeout&&window.clearTimeout(u._warningClearTimeout),u._warningClearTimeout=window.setTimeout(u.clearWarning,300)},u.clearWarning=function(){u.state.showWarning&&u.setState({showWarning:!1})},u.zoomAroundMouse=function(t,e){if(u._containerRef){var n=u.state.zoom,r=u.props,o=r.minZoom,a=r.maxZoom,i=r.zoomSnap;if(u._mousePosition=_(u._containerRef,e),!(!u._mousePosition||n===o&&t<0||n===a&&t>0)){var s=u.pixelToLatLng(u._mousePosition),l=n+t;i&&(l=t<0?Math.floor(l):Math.ceil(l)),l=Math.max(o,Math.min(l,a)),u.setCenterZoomTarget(null,l,!1,s)}}},u.zoomPlusDelta=function(){return u.state.zoom+u.state.zoomDelta},u.pixelToLatLng=function(t,e,n){void 0===e&&(e=u.state.center),void 0===n&&(n=u.zoomPlusDelta());var r=u.state,o=r.pixelDelta,a=[(t[0]-r.width/2-(o?o[0]:0))/256,(t[1]-r.height/2-(o?o[1]:0))/256],i=m(e[1],n)+a[0],s=g(e[0],n)+a[1];return[Math.max(w[0],Math.min(w[1],y(s,n))),Math.max(w[2],Math.min(w[3],v(i,n)))]},u.latLngToPixel=function(t,e,n){void 0===e&&(e=u.state.center),void 0===n&&(n=u.zoomPlusDelta());var r=u.state,o=r.width,a=r.height,i=r.pixelDelta,s=m(e[1],n),l=g(e[0],n),c=m(t[1],n),h=g(t[0],n);return[256*(c-s)+o/2+(i?i[0]:0),256*(h-l)+a/2+(i?i[1]:0)]},u.calculateZoomCenter=function(t,e,n,r){var o=u.state,a=o.width,i=o.height,s=u.latLngToPixel(e,t,n),l=u.latLngToPixel(e,t,r),c=u.pixelToLatLng([a/2+l[0]-s[0],i/2+l[1]-s[1]],t,r);return u.limitCenterAtZoom(c,r)},u.setRef=function(t){u._containerRef=t},u.syncToProps=(p=u.syncToProps,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this;clearTimeout(d),d=setTimeout((function(){return p.apply(r,e)}),60)}),u._lastZoom=null!==(n=null!==(r=e.defaultZoom)&&void 0!==r?r:e.zoom)&&void 0!==n?n:14,u._lastCenter=null!==(o=null!==(a=e.defaultCenter)&&void 0!==a?a:e.center)&&void 0!==o?o:[0,0],u.state={zoom:u._lastZoom,center:u._lastCenter,width:null!==(i=null!==(s=e.width)&&void 0!==s?s:e.defaultWidth)&&void 0!==i?i:-1,height:null!==(l=null!==(c=e.height)&&void 0!==c?c:e.defaultHeight)&&void 0!==l?l:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},u}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var t=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||x(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),void 0!==window.ResizeObserver&&(this._resizeObserver=new window.ResizeObserver((function(){t.updateWidthHeight()})),this._resizeObserver.observe(this._containerRef))},a.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),this.props.width&&this.props.height||this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},a.componentDidUpdate=function(t){var e;if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==(null==t||null===(e=t.center)||void 0===e?void 0:e[0])||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var n=this._isAnimating?this._centerTarget:this.state.center,r=this._isAnimating?this._zoomTarget:this.state.zoom;if(n&&r){var o,a,i=null!==(o=this.props.center)&&void 0!==o?o:n,s=null!==(a=this.props.zoom)&&void 0!==a?a:r;(Math.abs(s-r)>.001||Math.abs(i[0]-n[0])>1e-4||Math.abs(i[1]-n[1])>1e-4)&&this.setCenterZoomTarget(i,s,!0)}}},a.coordsInside=function(t){var e=this.state;if(t[0]<0||t[1]<0||t[0]>=e.width||t[1]>=e.height)return!1;var n=this._containerRef;if(n){var r=p(n),o=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return n===o||n.contains(o)}return!1},a.tileValues=function(t){var e=t.center,n=t.zoom,r=t.pixelDelta,o=t.zoomDelta,a=t.width,i=t.height,s=Math.round(n+(o||0)),l=Math.pow(2,n+(o||0)-s),c=a/l,u=i/l,h=m(e[1],s)-(r?r[0]/256/l:0),p=g(e[0],s)-(r?r[1]/256/l:0),d=c/2/256,f=u/2/256;return{tileMinX:Math.floor(h-d),tileMaxX:Math.floor(h+d),tileMinY:Math.floor(p-f),tileMaxY:Math.floor(p+f),tileCenterX:h,tileCenterY:p,roundedZoom:s,zoomDelta:o||0,scaleWidth:c,scaleHeight:u,scale:l}},a.renderTiles=function(){for(var t=this,e=this.state,n=e.oldTiles,r=e.width,a=e.height,i=this.props.dprs,s=this.props.provider||d,l=this.tileValues(this.state),c=l.tileMinX,u=l.tileMaxX,h=l.tileMinY,p=l.tileMaxY,f=l.tileCenterX,m=l.tileCenterY,g=l.roundedZoom,v=l.scaleWidth,y=l.scaleHeight,_=l.scale,w=[],b=0;b<n.length;b++){var M=n[b],x=M.roundedZoom-g;if(!(Math.abs(x)>4||0===x))for(var E=1/Math.pow(2,x),S=256*-(c-M.tileMinX*E),T=256*-(h-M.tileMinY*E),D=Math.max(M.tileMinX,0),z=Math.max(M.tileMinY,0),k=Math.min(M.tileMaxX,Math.pow(2,M.roundedZoom)-1),A=Math.min(M.tileMaxY,Math.pow(2,M.roundedZoom)-1),P=D;P<=k;P++)for(var O=z;O<=A;O++)w.push({key:P+"-"+O+"-"+M.roundedZoom,url:s(P,O,M.roundedZoom),srcSet:C(i,s,P,O,M.roundedZoom),left:S+256*(P-M.tileMinX)*E,top:T+256*(O-M.tileMinY)*E,width:256*E,height:256*E,active:!1})}for(var L=Math.max(c,0),Z=Math.max(h,0),R=Math.min(u,Math.pow(2,g)-1),j=Math.min(p,Math.pow(2,g)-1),N=L;N<=R;N++)for(var W=Z;W<=j;W++)w.push({key:N+"-"+W+"-"+g,url:s(N,W,g),srcSet:C(i,s,N,W,g),left:256*(N-c),top:256*(W-h),width:256,height:256,active:!0});return o.default.createElement("div",{style:{width:v,height:y,position:"absolute",top:"calc((100% - "+a+"px) / 2)",left:"calc((100% - "+r+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+_+", "+_+")",transformOrigin:"top left"},className:this.props.boxClassname||"pigeon-tiles-box"},o.default.createElement("div",{className:"pigeon-tiles",style:{position:"absolute",width:256*(u-c+1),height:256*(p-h+1),willChange:"transform",transform:"translate("+-(256*(f-c)-v/2)+"px, "+-(256*(m-h)-y/2)+"px)"}},w.map((function(e){return o.default.createElement("img",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:"lazy",onLoad:function(){return t.imageLoaded(e.key)},alt:"",style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transformOrigin:"top left",opacity:1}})}))))},a.renderOverlays=function(){var t=this,e=this.state,n=e.width,r=e.height,a=e.center,i={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:a,width:n,height:r},s=o.default.Children.map(this.props.children,(function(e){if(!e)return null;if(!o.default.isValidElement(e))return e;var n=e.props,r=n.offset,s=t.latLngToPixel(n.anchor||n.position||a);return o.default.cloneElement(e,{left:s[0]-(r?r[0]:0),top:s[1]-(r?r[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,setCenterZoom:t.setCenterZoomForChildren,mapProps:t.props,mapState:i})}));return o.default.createElement("div",{className:"pigeon-overlays",style:{position:"absolute",width:n,height:r,top:"calc((100% - "+r+"px) / 2)",left:"calc((100% - "+n+"px) / 2)"}},s)},a.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var r={color:"#0078A8",textDecoration:"none"};return o.default.createElement("div",{key:"attr",className:"pigeon-attribution",style:{position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"}},!1===n?null:o.default.createElement("span",null,n||o.default.createElement("a",{href:"https://pigeon-maps.js.org/",style:r,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),e||o.default.createElement("span",null," © ",o.default.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:r,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},a.renderWarning=function(){var t=this.props,e=t.metaWheelZoomWarning,n=t.twoFingerDragWarning,r=this.state,a=r.warningType;if(t.metaWheelZoom&&e||t.twoFingerDrag&&n){var i={position:"absolute",top:0,left:0,width:r.width,height:r.height,overflow:"hidden",pointerEvents:"none",opacity:r.showWarning?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:t.warningZIndex},s="undefined"!=typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"ctrl";return o.default.createElement("div",{className:"pigeon-overlay-warning",style:i},("fingers"===a?n:e).replace("META",s))}return null},a.render=function(){var t=this.props,e=this.state,n=e.width,r=e.height,a=!(!n||!r);return o.default.createElement("div",{style:{width:this.props.width?n:"100%",height:this.props.height?r:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:t.touchEvents?t.twoFingerDrag?"pan-x pan-y":"none":"auto"},ref:this.setRef},a&&this.renderTiles(),a&&this.renderOverlays(),a&&this.renderAttribution(),a&&this.renderWarning())},r}(e.Component);function T(t){var n=void 0!==t.width?t.width:void 0!==t.height?29*t.height/34:29,r=void 0!==t.height?t.height:void 0!==t.width?34*t.width/29:34,a=e.useState(t.hover||!1),i=a[1],s=void 0===t.hover?a[0]:t.hover,l=t.color||"#93C0D0",c=function(e){return{event:e,anchor:t.anchor,payload:t.payload}};return o.default.createElement("div",{style:u({position:"absolute",transform:"translate("+(t.left-n/2)+"px, "+(t.top-(r-1))+"px)",filter:s?"drop-shadow(0 0 4px rgba(0, 0, 0, .3))":"",pointerEvents:"none",cursor:"pointer"},t.style||{}),className:t.className?t.className+" pigeon-click-block":"pigeon-click-block"},o.default.createElement("svg",{width:n,height:r,viewBox:"0 0 61 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{style:{pointerEvents:"auto"},onClick:t.onClick?function(e){return t.onClick(c(e))}:null,onContextMenu:t.onContextMenu?function(e){return t.onContextMenu(c(e))}:null,onMouseOver:function(e){t.onMouseOver&&t.onMouseOver(c(e)),i(!0)},onMouseOut:function(e){t.onMouseOut&&t.onMouseOut(c(e)),i(!1)}},o.default.createElement("path",{d:"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z",fill:l,stroke:"white",strokeWidth:"4"}),o.default.createElement("circle",{cx:"30.5",cy:"30.5",r:"8.5",fill:"white",opacity:s?.98:.6}))))}S.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[]};var D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z={exports:{}};function k(){}function A(){}A.resetWarningCache=k,z.exports=function(){function t(t,e,n,r,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:A,resetWarningCache:k};return n.PropTypes=n,n}();var P=z.exports;function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function L(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)e.indexOf(n=a[r])>=0||(o[n]=t[n]);return o}var Z=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).t=function(){return n.i.current.offsetWidth},n.h=function(){return n.i.current.offsetHeight},n.i=o.default.createRef(),n.state={path:""},n.u=0,n.o=0,n.l=0,n.v=n.v.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.p=function(){for(var t=[],e=0;e<=Math.max(this.props.points,1);e++){var n=e/this.props.points*this.t(),r=(this.l+(e+e%this.props.points))*this.props.speed*100,o=Math.sin(r/100)*this.props.amplitude,a=Math.sin(r/100)*o+this.props.height;t.push({x:n,y:a})}return t},a.m=function(t){var e="M "+t[0].x+" "+t[0].y,n={x:(t[1].x-t[0].x)/2,y:t[1].y-t[0].y+t[0].y+(t[1].y-t[0].y)},r=function(t,e){return" C "+t.x+" "+t.y+" "+t.x+" "+t.y+" "+e.x+" "+e.y};e+=r(n,t[1]);for(var o=n,a=1;a<t.length-1;a++)e+=r(o={x:t[a].x-o.x+t[a].x,y:t[a].y-o.y+t[a].y},t[a+1]);return(e+=" L "+this.t()+" "+this.h())+" L 0 "+this.h()+" Z"},a.g=function(){this.setState({path:this.m(this.p())})},a.M=function(){if(!this.props.paused){var t=new Date;this.o+=t-this.u,this.u=t}this.l=this.o*Math.PI/1e3,this.g()},a.v=function(){this.M(),this.j&&this.O()},a.O=function(){this.j=window.requestAnimationFrame(this.v),this.u=new Date},a.componentDidMount=function(){this.j||this.O()},a.componentWillUnmount=function(){window.cancelAnimationFrame(this.j),this.j=0},a.render=function(){var t=this.props,e=t.style,n=t.className,r=t.fill,a=t.children,i=t.id,s=L(t,["style","className","fill","paused","children","id","d","ref"]);return o.default.createElement("div",{style:O({width:"100%",display:"inline-block"},e),className:n,id:i,ref:this.i},o.default.createElement("svg",{width:"100%",height:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a,o.default.createElement("path",O({d:this.state.path,fill:r},s))))},r}(e.Component),R={height:20,amplitude:20,speed:.15,points:3},j=function(t){var e=t.options,n=L(t,["options"]);return o.default.createElement(Z,O({},R,e,n))};j.defaultProps={paused:!1,fill:"#fff"};var N=j,W={exports:{}},F={exports:{}};F.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();var I=F.exports,$={exports:{}};(function(){var t,e,n;(t=function(e){return t.isDOMElement(e)?e:document.querySelectorAll(e)}).isDOMElement=function(t){return t&&null!=t.nodeName},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(t){return null===t?"":(t+"").replace(n,"")},e=/\r/g,t.val=function(t,n){var r;return arguments.length>1?t.value=n:"string"==typeof(r=t.value)?r.replace(e,""):null===r?"":r},t.preventDefault=function(t){if("function"!=typeof t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()},t.normalizeEvent=function(e){var n;return null==(e={which:null!=(n=e).which?n.which:void 0,target:n.target||n.srcElement,preventDefault:function(){return t.preventDefault(n)},originalEvent:n,data:n.data||n.detail}).which&&(e.which=null!=n.charCode?n.charCode:n.keyCode),e},t.on=function(e,n,r){var o,a,i,s,l,c;if(e.length)for(o=0,i=e.length;o<i;o++)t.on(e[o],n,r);else{if(!n.match(" "))return l=r,r=function(e){return e=t.normalizeEvent(e),l(e)},e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent?e.attachEvent(n="on"+n,r):void(e["on"+n]=r);for(a=0,s=(c=n.split(" ")).length;a<s;a++)t.on(e,c[a],r)}},t.addClass=function(e,n){return e.length?function(){var r,o,a;for(a=[],r=0,o=e.length;r<o;r++)a.push(t.addClass(e[r],n));return a}():e.classList?e.classList.add(n):e.className+=" "+n},t.hasClass=function(e,n){var r,o,a;if(e.length){for(r=!0,o=0,a=e.length;o<a;o++)r=r&&t.hasClass(e[o],n);return r}return e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className)},t.removeClass=function(e,n){var r,o,a,i;if(e.length)return function(){var r,o,a;for(a=[],r=0,o=e.length;r<o;r++)a.push(t.removeClass(e[r],n));return a}();if(e.classList){for(i=[],r=0,o=(a=n.split(" ")).length;r<o;r++)i.push(e.classList.remove(a[r]));return i}return e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")},t.toggleClass=function(e,n,r){return e.length?function(){var o,a,i;for(i=[],o=0,a=e.length;o<a;o++)i.push(t.toggleClass(e[o],n,r));return i}():r?t.hasClass(e,n)?void 0:t.addClass(e,n):t.removeClass(e,n)},t.append=function(e,n){return e.length?function(){var r,o,a;for(a=[],r=0,o=e.length;r<o;r++)a.push(t.append(e[r],n));return a}():e.insertAdjacentHTML("beforeend",n)},t.find=function(t,e){return(t instanceof NodeList||t instanceof Array)&&(t=t[0]),t.querySelectorAll(e)},t.trigger=function(t,e,n){var r;try{r=new CustomEvent(e,{detail:n})}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent?r.initCustomEvent(e,!0,!0,n):r.initEvent(e,!0,!0,n)}return t.dispatchEvent(r)},$.exports=t}).call(D),function(){var t,e,n,r,o,a,i,s,l,c,u,h,p,d,f,m,g,v,y,_,w,b,M,x,E,C,S=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};f="object"==typeof D&&D&&D.Math===Math&&D.Array===Array?D:I,e=$.exports,o=[{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[4],luhn:!0},{type:"dankort",pattern:/^5019/,format:i=/(\d{1,4})/g,length:[16],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"elo",pattern:/^401178|^401179|^431274|^438935|^451416|^457393|^457631|^457632|^504175|^627780|^636297|^636369|^636368|^(506699|5067[0-6]\d|50677[0-8])|^(50900\d|5090[1-9]\d|509[1-9]\d{2})|^65003[1-3]|^(65003[5-9]|65004\d|65005[0-1])|^(65040[5-9]|6504[1-3]\d)|^(65048[5-9]|65049\d|6505[0-2]\d|65053[0-8])|^(65054[1-9]|6505[5-8]\d|65059[0-8])|^(65070\d|65071[0-8])|^65072[0-7]|^(65090[1-9]|65091\d|650920)|^(65165[2-9]|6516[6-7]\d)|^(65500\d|65501\d)|^(65502[1-9]|6550[3-4]\d|65505[0-8])|^(65092[1-9]|65097[0-8])/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"hipercard",pattern:/^(384100|384140|384160|606282|637095|637568|60(?!11))/,format:i,length:[14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^(308[8-9]|309[0-3]|3094[0]{4}|309[6-9]|310[0-2]|311[2-9]|3120|315[8-9]|333[7-9]|334[0-9]|35)/,format:i,length:[16,19],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:i,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(50|5[6-9]|6007|6220|6304|6703|6708|6759|676[1-3])/,format:i,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"mir",pattern:/^220[0-4][0-9][0-9]\d{10}$/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"troy",pattern:/^9792/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:i,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:i,length:[13,16],cvcLength:[3],luhn:!0}],n=function(t){var e,n,r,a,i;for(t=(t+"").replace(/\D/g,""),n=void 0,r=0,a=o.length;r<a;r++)(i=t.match((e=o[r]).pattern))&&(!n||i[0].length>n[1][0].length)&&(n=[e,i]);return n&&n[0]},r=function(t){var e,n,r;for(n=0,r=o.length;n<r;n++)if((e=o[n]).type===t)return e},g=function(t){var e,n,r,o,a,i;for(a=!0,i=0,r=0,o=(n=(t+"").split("").reverse()).length;r<o;r++)e=n[r],e=parseInt(e,10),(a=!a)&&(e*=2),e>9&&(e-=9),i+=e;return i%10==0},m=function(t){var e;try{if(null!=t.selectionStart&&t.selectionStart!==t.selectionEnd)return!0;if(null!=("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)?e.createRange:void 0)&&document.selection.createRange().text)return!0}catch(t){}return!1},v=function(n){return setTimeout((function(){var r,o;return o=e.val(r=n.target),o=t.fns.formatCardNumber(o),a(r,o),e.trigger(r,"change")}))},c=function(t){return function(r){var o,a,i,s,l,c,u,h,p,d,f;if(r.which>0?(a=String.fromCharCode(r.which),f=e.val(r.target)+a):(a=r.data,f=e.val(r.target)),/^\d+$/.test(a)){for(h=r.target,o=n(f),c=f.replace(/\D/g,"").length,d=[16],o&&(d=o.length),t&&(d=d.filter((function(e){return e<=t}))),i=s=0,l=d.length;s<l;i=++s)if(!(c>=(p=d[i])&&d[i+1])&&c>=p)return;if(!m(h))return u=o&&"amex"===o.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,f=f.substring(0,f.length-1),u.test(f)?(r.preventDefault(),e.val(h,f+" "+a),e.trigger(h,"change")):void 0}}},s=function(t){var n,r;if(r=e.val(n=t.target),!t.meta&&8===t.which&&!m(n))return/\d\s$/.test(r)?(t.preventDefault(),e.val(n,r.replace(/\d\s$/,"")),e.trigger(n,"change")):/\s\d?$/.test(r)?(t.preventDefault(),e.val(n,r.replace(/\s\d?$/,"")),e.trigger(n,"change")):void 0},u=function(t){var n,r,o;if(r=t.target,t.which>0?(n=String.fromCharCode(t.which),o=e.val(r)+n):(n=t.data,o=e.val(r)),/^\d+$/.test(n))return/^\d$/.test(o)&&"0"!==o&&"1"!==o?(t.preventDefault(),e.val(r,"0"+o+" / "),e.trigger(r,"change")):/^\d\d$/.test(o)?(t.preventDefault(),e.val(r,o+" / "),e.trigger(r,"change")):void 0},d=function(t){var n,r,o;if(n=String.fromCharCode(t.which),/^\d+$/.test(n))return o=e.val(r=t.target)+n,/^\d$/.test(o)&&"0"!==o&&"1"!==o?(t.preventDefault(),e.val(r,"0"+o),e.trigger(r,"change")):/^\d\d$/.test(o)?(t.preventDefault(),e.val(r,""+o),e.trigger(r,"change")):void 0},h=function(t){var n,r,o;if(n=String.fromCharCode(t.which),/^\d+$/.test(n))return o=e.val(r=t.target),/^\d\d$/.test(o)?(e.val(r,o+" / "),e.trigger(r,"change")):void 0},p=function(t){var n,r;if("/"===String.fromCharCode(t.which))return r=e.val(n=t.target),/^\d$/.test(r)&&"0"!==r?(e.val(n,"0"+r+" / "),e.trigger(n,"change")):void 0},l=function(t){var n,r;if(!t.metaKey&&(r=e.val(n=t.target),8===t.which&&!m(n)))return/\d(\s|\/)+$/.test(r)?(t.preventDefault(),e.val(n,r.replace(/\d(\s|\/)*$/,"")),e.trigger(n,"change")):/\s\/\s?\d?$/.test(r)?(t.preventDefault(),e.val(n,r.replace(/\s\/\s?\d?$/,"")),e.trigger(n,"change")):void 0},x=function(t){var e;return!(!t.metaKey&&!t.ctrlKey)||(32===t.which?t.preventDefault():0===t.which||t.which<33||(e=String.fromCharCode(t.which),/[\d\s]/.test(e)?void 0:t.preventDefault()))},_=function(t){return function(r){var o,a,i,s,l;if(s=r.target,a=String.fromCharCode(r.which),/^\d+$/.test(a)&&!m(s))return l=(e.val(s)+a).replace(/\D/g,""),i=16,(o=n(l))&&(i=o.length[o.length.length-1]),t&&(i=Math.min(i,t)),l.length<=i?void 0:r.preventDefault()}},b=function(t,n){var r,o;if(o=t.target,r=String.fromCharCode(t.which),/^\d+$/.test(r)&&!m(o))return(e.val(o)+r).replace(/\D/g,"").length>n?t.preventDefault():void 0},w=function(t){return b(t,6)},M=function(t){return b(t,2)},E=function(t){return b(t,4)},y=function(t){var n,r;if(r=t.target,n=String.fromCharCode(t.which),/^\d+$/.test(n)&&!m(r))return(e.val(r)+n).length<=4?void 0:t.preventDefault()},C=function(n){var r,a,i,s;if(s=e.val(i=n.target),a=t.fns.cardType(s)||"unknown",!e.hasClass(i,a))return r=function(){var t,e,n;for(n=[],t=0,e=o.length;t<e;t++)n.push(o[t].type);return n}(),e.removeClass(i,"unknown"),e.removeClass(i,r.join(" ")),e.addClass(i,a),e.toggleClass(i,"identified","unknown"!==a),e.trigger(i,"payment.cardType",a)},a=function(t,n){var r;if(r=t.selectionEnd,e.val(t,n),r)return t.selectionEnd=r},t=function(){function t(){}return t.J=e,t.fns={cardExpiryVal:function(t){var e,n,r;return e=(n=(t=t.replace(/\s/g,"")).split("/",2))[0],2===(null!=(r=n[1])?r.length:void 0)&&/^\d+$/.test(r)&&(r=(new Date).getFullYear().toString().slice(0,2)+r),{month:e=parseInt(e,10),year:r=parseInt(r,10)}},validateCardNumber:function(t){var e;return t=(t+"").replace(/\s+|-/g,""),!!/^\d+$/.test(t)&&!!(e=n(t))&&S.call(e.length,t.length)>=0&&(!1===e.luhn||g(t))},validateCardExpiry:function(n,r){var o,a,i,s;return"object"==typeof n&&"month"in n?(n=(i=n).month,r=i.year):"string"==typeof n&&S.call(n,"/")>=0&&(n=(s=t.fns.cardExpiryVal(n)).month,r=s.year),!(!n||!r)&&(n=e.trim(n),r=e.trim(r),!!/^\d+$/.test(n)&&!!/^\d+$/.test(r)&&!!((n=parseInt(n,10))&&n<=12)&&(2===r.length&&(r=(new Date).getFullYear().toString().slice(0,2)+r),a=new Date(r,n),o=new Date,a.setMonth(a.getMonth()-1),a.setMonth(a.getMonth()+1,1),a>o))},validateCardCVC:function(t,n){var o,a;return t=e.trim(t),!!/^\d+$/.test(t)&&(n&&r(n)?(o=t.length,S.call(null!=(a=r(n))?a.cvcLength:void 0,o)>=0):t.length>=3&&t.length<=4)},cardType:function(t){var e;return t&&(null!=(e=n(t))?e.type:void 0)||null},formatCardNumber:function(t){var e,r,o,a;return(e=n(t))?(a=e.length[e.length.length-1],t=(t=t.replace(/\D/g,"")).slice(0,a),e.format.global?null!=(o=t.match(e.format))?o.join(" "):void 0:null!=(r=e.format.exec(t))?(r.shift(),r=r.filter((function(t){return t})),r.join(" ")):void 0):t}},t.restrictNumeric=function(t){return e.on(t,"keypress",x),e.on(t,"input",x)},t.cardExpiryVal=function(n){return t.fns.cardExpiryVal(e.val(n))},t.formatCardCVC=function(n){return t.restrictNumeric(n),e.on(n,"keypress",y),e.on(n,"input",y),n},t.formatCardExpiry=function(n){return t.restrictNumeric(n),n.length&&2===n.length?this.formatCardExpiryMultiple(n[0],n[1]):(e.on(n,"keypress",w),e.on(n,"keypress",u),e.on(n,"keypress",p),e.on(n,"keypress",h),e.on(n,"keydown",l),e.on(n,"input",u)),n},t.formatCardExpiryMultiple=function(t,n){return e.on(t,"keypress",M),e.on(t,"keypress",d),e.on(t,"input",d),e.on(n,"keypress",E),e.on(n,"input",E)},t.formatCardNumber=function(n,r){return t.restrictNumeric(n),e.on(n,"keypress",_(r)),e.on(n,"keypress",c(r)),e.on(n,"keydown",s),e.on(n,"keyup blur",C),e.on(n,"blur",c(r)),e.on(n,"paste",v),e.on(n,"input",c(r)),n},t.getCardArray=function(){return o},t.setCardArray=function(t){return o=t,!0},t.addToCardArray=function(t){return o.push(t)},t.removeFromCardArray=function(t){var e;for(e in o)o[e].type===t&&o.splice(e,1);return!0},t}(),W.exports=t,f.Payment=t}.call(D);var Y=W.exports;function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e){return U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},U(t,e)}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B(t);if(e){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(r,t);var e,n=V(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).setCards(),e}return(e=[{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.acceptedCards,r=e.callback,o=e.number;t.number!==o&&"function"==typeof r&&r(this.options,Y.fns.validateCardNumber(o)),t.acceptedCards.toString()!==n.toString()&&this.setCards()}},{key:"setCards",value:function(){var t=this.props.acceptedCards,e=[];t.length?Y.getCardArray().forEach((function(n){-1!==t.indexOf(n.type)&&e.push(n)})):e=e.concat(Y.getCardArray()),Y.setCardArray(e)}},{key:"render",value:function(){var t=this.props,e=t.cvc,n=t.focused,r=t.locale,a=t.name,i=t.placeholders,s=this.number,l=this.expiry;return o.default.createElement("div",{key:"Cards",className:"rccs"},o.default.createElement("div",{className:["rccs__card","rccs__card--".concat(this.issuer),"cvc"===n&&"amex"!==this.issuer?"rccs__card--flipped":""].join(" ").trim()},o.default.createElement("div",{className:"rccs__card--front"},o.default.createElement("div",{className:"rccs__card__background"}),o.default.createElement("div",{className:"rccs__issuer"}),o.default.createElement("div",{className:["rccs__cvc__front","cvc"===n?"rccs--focused":""].join(" ").trim()},e),o.default.createElement("div",{className:["rccs__number",s.replace(/ /g,"").length>16?"rccs__number--large":"","number"===n?"rccs--focused":"","•"!==s.substr(0,1)?"rccs--filled":""].join(" ").trim()},s),o.default.createElement("div",{className:["rccs__name","name"===n?"rccs--focused":"",a?"rccs--filled":""].join(" ").trim()},a||i.name),o.default.createElement("div",{className:["rccs__expiry","expiry"===n?"rccs--focused":"","•"!==l.substr(0,1)?"rccs--filled":""].join(" ").trim()},o.default.createElement("div",{className:"rccs__expiry__valid"},r.valid),o.default.createElement("div",{className:"rccs__expiry__value"},l)),o.default.createElement("div",{className:"rccs__chip"})),o.default.createElement("div",{className:"rccs__card--back"},o.default.createElement("div",{className:"rccs__card__background"}),o.default.createElement("div",{className:"rccs__stripe"}),o.default.createElement("div",{className:"rccs__signature"}),o.default.createElement("div",{className:["rccs__cvc","cvc"===n?"rccs--focused":""].join(" ").trim()},e),o.default.createElement("div",{className:"rccs__issuer"}))))}},{key:"issuer",get:function(){var t=this.props,e=t.issuer;return t.preview&&e?e.toLowerCase():this.options.issuer}},{key:"number",get:function(){var t=this.props,e=t.number,n=t.preview,r=n?19:this.options.maxLength,o="number"==typeof e?e.toString():e.replace(/[A-Za-z]| /g,"");for(isNaN(parseInt(o,10))&&!n&&(o=""),r>16&&(r=o.length<=16?16:r),o.length>r&&(o=o.slice(0,r));o.length<r;)o+="•";if(-1!==["amex","dinersclub"].indexOf(this.issuer)){var a=[0,4,10],i=[4,6,5];o="".concat(o.substr(a[0],i[0])," ").concat(o.substr(a[1],i[1])," ").concat(o.substr(a[2],i[2]))}else if(o.length>16){var s=[0,4,8,12],l=[4,7];o="".concat(o.substr(s[0],l[0])," ").concat(o.substr(s[1],l[0])," ").concat(o.substr(s[2],l[0])," ").concat(o.substr(s[3],l[1]))}else for(var c=1;c<r/4;c++){var u=4*c+(c-1);o="".concat(o.slice(0,u)," ").concat(o.slice(u))}return o}},{key:"expiry",get:function(){var t,e=this.props.expiry,n=void 0===e?"":e,r="number"==typeof n?n.toString():n,o="",a="";if(-1!==r.indexOf("/")){var i=function(t){if(Array.isArray(t))return t}(t=r.split("/"))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),2!==n.length);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(t)||function(t,e){if(t){if("string"==typeof t)return H(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();o=i[0],a=i[1]}else r.length&&(o=r.substr(0,2),a=r.substr(2,6));for(;o.length<2;)o+="•";for(a.length>2&&(a=a.substr(2,4));a.length<2;)a+="•";return"".concat(o,"/").concat(a)}},{key:"options",get:function(){var t=Y.fns.cardType(this.props.number)||"unknown",e=16;return"amex"===t?e=15:"dinersclub"===t?e=14:-1!==["hipercard","mastercard","visa"].indexOf(t)&&(e=19),{issuer:t,maxLength:e}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,e),r}(o.default.Component);K(J,"propTypes",{acceptedCards:P.array,callback:P.func,cvc:P.oneOfType([P.string,P.number]).isRequired,expiry:P.oneOfType([P.string,P.number]).isRequired,focused:P.string,issuer:P.string,locale:P.shape({valid:P.string}),name:P.string.isRequired,number:P.oneOfType([P.string,P.number]).isRequired,placeholders:P.shape({name:P.string}),preview:P.bool}),K(J,"defaultProps",{acceptedCards:[],locale:{valid:"valid thru"},placeholders:{name:"YOUR NAME HERE"},preview:!1}),t.default=a({},{applications:s,formComponents:[["clickCounter",function(t){var n=t.config,r=t.payload,a=t.onChange,i=e.useState(r.count||0),s=i[0],l=i[1];return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"flo-clickCounter",onClick:function(){l(s+1),a(2*s)}},n.label||"Count:"," ",o.default.createElement("br",null)),o.default.createElement("div",{className:"flo-clickCounterDebug"},"Component State: ",s," ",o.default.createElement("br",null),"config.value: ",n.value," ",o.default.createElement("br",null),"Payload: ",JSON.stringify(r)))}],["map",function(t){var e=t.config,r=n._.get(e,"extraSettings.defaultCenterLongitude",0),a=n._.get(e,"extraSettings.defaultCenterLatitude",0),i=t.config.value;return o.default.createElement(S,{height:300,defaultCenter:[r,a],defaultZoom:11,onClick:function(n){return function(n){e.enabled&&t.onChange(n.latLng)}(n)}},function(){var t=[];i&&t.push(o.default.createElement(T,{key:"primary",width:25,anchor:i,color:"blue"}));for(var r=n._.get(e,"extraSettings.extraMarkers",[]),a=0;a<r.length;a++)t.push(o.default.createElement(T,{key:a,width:25,anchor:r[a],color:"red"}));return t}())}],["wave",function(t){var e=t.config,r=n._.get(e,"extraSettings.amplitude",20),a=n._.get(e,"extraSettings.speed",.15),i=n._.get(e,"extraSettings.points",3);return o.default.createElement(N,{fill:"#325069",paused:!1,options:{height:20,amplitude:r,speed:a,points:i}})}],["creditCard",function(t){var e=t.config,r=t.onChange,a=n._.get(e,"extraSettings.cvc",""),i=n._.get(e,"extraSettings.expiry",""),s=n._.get(e,"extraSettings.holderName",""),l=n._.get(e,"extraSettings.number","");return o.default.createElement(o.default.Fragment,null,o.default.createElement(J,{cvc:a,expiry:i,name:s,number:l,callback:function(t,e){return function(t,e){r(e)}(0,e)}}))}]]}),Object.defineProperty(t,"__esModule",{value:!0})}));
